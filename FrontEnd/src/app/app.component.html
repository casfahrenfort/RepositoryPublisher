<div class="view">
  <div class=" main-container">
    <div class="topBar">
      <span *ngIf="!canPublish()" class="tooltip-wrapper" placement="bottom" ngbTooltip="One or more repository is missing required information">
        <button class="btn btn-success" (click)="publishAllRepos()" [disabled]="!canPublish()">
          Publish {{getButtonText()}}
        </button>
      </span>
      <span *ngIf="canPublish()" class="tooltip-wrapper">
        <button class="btn btn-success" (click)="publishAllRepos()" [disabled]="!canPublish()">
          Publish {{getButtonText()}}
        </button>
      </span>
      <button class="btn btn-info" (click)="addRepo()" [disabled]="!canAdd()" placement="bottom" ngbTooltip="Add additional repository to be published as a bundle">Add repository</button>
    </div>
    <ngb-tabset [destroyOnHide]="false">
      <ngb-tab *ngFor="let form of publishForms; let i = index" title="{{getTabName(form, i)}}">
        <ng-template ngbTabContent>
          <app-publication-form [publishForm]="form"></app-publication-form>
        </ng-template>
      </ngb-tab>
    </ngb-tabset>
  </div>
</div>

<app-publish-modal [publishForms]="publishForms" #publishModal></app-publish-modal>